{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/size.js","webpack:///./src/js/piece.js","webpack:///./src/js/theme.js","webpack:///./src/js/hint.js","webpack:///./src/js/canvas.js","webpack:///./src/js/pieces.js","webpack:///./src/js/arena.js","webpack:///./src/js/element.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./src/style/style.scss","webpack:///./src/style/style.scss?19d8","webpack:///./src/img/info.png","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SIZE","SCALER","ARENA_WIDTH","ARENA_HEIGHT","_pieces","_size","Piece","_classCallCheck","this","matrix","getRandomPiece","pos","resetPos","over","pieceList","keys","pieces","Math","floor","random","length","some","x","y","getDefaultY","direction","len","layerCount","first","last","j","offset","topElement","rightElement","bottomElement","leftElement","THEME","tetrisBg","_piece","Hint","owner","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","getMatrix","Array","from","fill","map","val","arena","isHit","any","_theme","CanvasTool","parent","width","height","ctx","init","drawRect","scale","w","h","document","createElement","appendChild","getContext","color","fillStyle","fillRect","piece","z","Arean","col","row","empty","scoreBoard","total","totalLine","currentSweepLines","scoreRule","scorePerLine","combo","line","pow","indexOf","splice","unshift","_this2","forEach","err","aY","aX","isPieceXOutOfBounds","isPieceYOutOfBounds","isPieceFill","isArenaFill","canvas","getElementById","player","playground","Arena","cns","playerHint","css","location","window","Error","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","JSON","stringify","fn","memo","stylesInDom","isOldIE","all","atob","apply","arguments","getElement","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","item","domStyle","id","refs","parts","push","addStyle","listToStyles","list","newStyles","base","part","media","sourceMap","insertStyleElement","style","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","removeChild","idx","createStyleElement","undefined","attrs","type","addAttrs","el","setAttribute","obj","update","remove","result","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","unescape","encodeURIComponent","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","join","cssNode","childNodes","useSourceMap","toString","content","cssMapping","sourceMapping","sourceURLs","sources","source","sourceRoot","concat","cssWithMappingToString","mediaQuery","alreadyImportedModules","hmr","locals","_info","_element","info","scoreWrapper","score","bgCanvas","bgc","bgctx","src","infoImg","clean","merge","sweep","getScore","resize","reset","drop","callback","element","updateScore","innerHTML","move","dir","dropHint","start","Date","getTime","draw","requestAnimationFrame","currentSize","offsetWidth","parseFloat","getComputedStyle","getPropertyValue","fontSize","fitSize","body","clientWidth","clientHeight","addEventListener","code","rotate","speedyDrop"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","export const SIZE = {\n    SCALER : 28,\n    ARENA_WIDTH : 12,\n    ARENA_HEIGHT : 20\n};\n","import {\n    pieces\n} from \"./pieces.js\";\nimport {\n    SIZE\n} from \"./size.js\";\nexport default class Piece {\n    constructor() {\n        this.matrix = this.getRandomPiece();\n        this.pos = this.resetPos();\n        this.over = false; \n    }\n    getRandomPiece() {\n        let pieceList = Object.keys(pieces),\n            i = Math.floor(Math.random() * pieceList.length) || 0;\n        return pieces[Object.keys(pieces)[i]];\n    }\n    getDefaultY(){\n        for(let i = this.matrix.length - 1; i >= 0 ; i--){\n            if(this.matrix[i].some((x) => x > 0)) {\n                return 0 - (i + 1); \n            }\n        } \n    }\n    resetPos() {\n        return {\n            x: Math.floor((SIZE.ARENA_WIDTH - this.matrix.length) / 2),\n            y: this.getDefaultY()\n        };\n    }\n    reset() {\n        this.matrix = this.getRandomPiece();\n        this.pos = this.resetPos();\n    }\n    rotate(direction) {\n        // counterClockwise : -1, clockWise : 1\n        let len = this.matrix.length,\n            layerCount = Math.floor(len / 2);\n\n        for (let i = 0; i < layerCount; i++) {\n\n            let first = i,\n                last = this.matrix.length - first - 1;\n\n            for (let j = first; j < last; j++) {\n\n                let offset = j - first,\n                    topElement = this.matrix[first][j],\n                    rightElement = this.matrix[j][last],\n                    bottomElement = this.matrix[last][last - offset],\n                    leftElement = this.matrix[last - offset][first];\n\n                this.matrix[j][last] = direction > 0 ? topElement : bottomElement;\n                this.matrix[last][last - offset] = direction > 0 ? rightElement : leftElement;\n                this.matrix[last - offset][first] = direction > 0 ? bottomElement : topElement;\n                this.matrix[first][j] = direction > 0 ? leftElement : rightElement;\n            }\n        }\n    }\n\n}\n\n\n// module.exports = Piece;\n","export const THEME = [ \n    \"null\",  //color for empty \n    \"#4F4FFC\",\n    \"#846BFF\",\n    \"#6BFF84\",\n    \"#ABF953\",\n    \"#FFA46B\",\n    \"#53F9AB\",\n    \"#A46BFF\",\n    \"rgba(0, 118, 225, 0.3)\",//color for hint\n];\n\nexport const tetrisBg = \"#282C34\";\n","import Piece from \"./piece.js\";\n\nexport default class Hint extends Piece {\n    constructor(owner) {\n        super();\n        this.matrix = this.getMatrix(owner);\n        this.pos = {\n            x: owner.pos.x,\n            y: owner.pos.y\n        };\n    }\n    update(owner) {\n        let n = owner.pos.x;\n        this.pos.x = n;\n        this.matrix = this.getMatrix(owner);\n    }\n    getMatrix(owner) {\n        let m = Array.from({\n            length: owner.matrix.length\n        }).fill([]);\n        for (let i = 0; i < owner.matrix.length; i++) {\n            m[i] = owner.matrix[i].map((val) => val > 0 ? 8 : 0);\n        }\n        return m;\n    }\n    //set hint's y position to simulate dropped\n    dropHint(owner, arena) {\n        let n = owner.pos.x,\n            m = owner.pos.y;\n        this.pos = {\n            x: n,\n            y: m\n        };\n        while (!arena.isHit(this).any) {\n            this.pos.y++;\n        }\n        this.pos.y--;\n        while (arena.isHit(this).any) {\n            this.pos.y--;\n        }\n    }\n}\n","import { SIZE } from \"./size.js\";\nimport { THEME } from \"./theme.js\";\n\nexport default class CanvasTool {\n    constructor(parent, width, height){\n        this.parent = parent;\n        this.ctx = this.init(width, height);\n        this.width = width;\n        this.height = height;\n        this.drawRect(\"black\", 0, 0, width, height);\n        this.ctx.scale(SIZE.SCALER, SIZE.SCALER);\n    }\n    init(w, h){\n        let c = document.createElement(\"canvas\");\n        c.height = w;\n        c.width = h; \n        this.parent.appendChild(c);\n        return c.getContext(\"2d\");\n    }\n    drawRect(color, x, y, w, h){\n        this.ctx.fillStyle = color;\n        this.ctx.fillRect(x, y, w, h);\n    }\n    draw(piece){\n        for(let y = 0; y < piece.matrix.length; y++){\n            for(let x = 0; x < piece.matrix[0].length; x++){\n                let val = piece.matrix[y][x];\n                if( val !== 0){\n                    this.drawRect(THEME[val], piece.pos.x + x, piece.pos.y + y, 1, 1);\n                }\n            }\n        }\n    }\n}\n\n\n","/*\n * all pieces in a tetris game\n */\n\n\nexport const pieces = {\n    t : [\n        [0, 0, 0],\n        [0, 1, 0],\n        [1, 1, 1],\n    ],\n    j : [\n        [0, 0, 0],\n        [2, 0, 0],\n        [2, 2, 2],\n    ],\n    l : [\n        [0, 0, 0],\n        [0, 0, 3],\n        [3, 3, 3],\n    ],\n    i : [\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [4, 4, 4, 4],\n        [0, 0, 0, 0],\n    ],\n    o : [\n        [5, 5 ],\n        [5, 5 ]\n    ],\n    s : [\n        [0, 0, 0],\n        [0, 6, 6],\n        [6, 6, 0],\n    ],\n    z : [\n        [0, 0, 0],\n        [7, 7, 0],\n        [0, 7, 7],\n    ]\n};\n","// a Arean class to control/detect pieces\n\nexport default class Arean {\n    constructor(col, row) {\n        this.row = row,\n        this.col = col,\n        this.pos = {\n            x: 0,\n            y: 0\n        };\n        this.empty = 0,\n        this.matrix = this.create();\n        this.over = false;\n        this.scoreBoard = {\n            total: 0,\n            totalLine: 0,\n            currentSweepLines: 0\n        };\n        this.scoreRule = {\n            scorePerLine: 100,\n            combo : 1.5\n        };\n    }\n    create() {\n        return Array.from({ length: this.row })\n            .map(row => Array.from({ length: this.col })\n            .fill(this.empty));\n    }\n    reset() {\n        this.matrix = this.create();\n        this.over = false;\n        this.pos = {\n            x: 0,\n            y: 0\n        };\n        this.scoreBoard = {\n            total : 0,\n            line: 0,\n            currentSweepLines: 0\n        };\n    }\n    updateScore(){\n        let combo = this.scoreBoard.currentSweepLines > 1 ? Math.pow(this.scoreRule.combo, this.scoreBoard.currentSweepLines) : this.scoreRule.combo; \n        this.scoreBoard.total += Math.floor(this.scoreRule.scorePerLine * this.scoreBoard.currentSweepLines * combo);\n        this.scoreBoard.totalLine += this.currentSweepLines;\n        this.currentSweepLines = 0;\n    }\n    sweep(piece) {\n        this.scoreBoard.currentSweepLines = 0;\n        let len = this.matrix[0].length;\n        for (let i = piece.pos.y; i < piece.pos.y + piece.matrix.length; i++) {\n            if (i >= 0) {\n                if (i < this.matrix.length && this.matrix[i].indexOf(0) === -1) {\n                    this.scoreBoard.currentSweepLines++;\n                    this.matrix.splice(i, 1);\n                    this.matrix.unshift(Array.from({\n                        length: len\n                    }).fill(0));\n                }\n            }\n        }\n    }\n    merge(piece) {\n        piece.matrix.forEach((row, y) => {\n            row.forEach((val, x) => {\n                if (val !== 0) {\n                    try {\n                        this.matrix[piece.pos.y + y][piece.pos.x + x] = val;\n                    } catch (err) {\n                        this.over = true;\n                        return;\n                    }\n                }\n            });\n        });\n    }\n    isHit(piece) {\n        let m = piece.matrix;\n        for (let y = 0; y < m.length; y++) {\n            for (let x = 0; x < m[y].length; x++) {\n\n                let aY = piece.pos.y + y,\n                    aX = piece.pos.x + x,\n                    isPieceXOutOfBounds = aX < 0 || aX > this.matrix[y].length - 1,\n                    isPieceYOutOfBounds = aY >= this.matrix.length,\n                    isPieceFill = m[y][x] !== 0,\n                    isArenaFill = this.matrix[aY] && this.matrix[aY][aX] !== 0;\n\n                if (isPieceFill && isPieceXOutOfBounds) {\n                    return {\n                        x: true,\n                        y: false,\n                        any: true\n                    };\n                }\n                if (isPieceFill && (isArenaFill || isPieceYOutOfBounds)) {\n                    return {\n                        x: false,\n                        y: true,\n                        any: true\n                    };\n                }\n            }\n        }\n        return {\n            x: false,\n            y: false,\n            any: false\n        };\n    }\n}\n","import { SIZE } from \"./size.js\";\nimport Arena from \"./arena.js\";\nimport Piece from \"./piece.js\";\nimport CanvasTool from \"./canvas.js\";\nimport Hint from \"./hint.js\";\n\n// dom element\nconst canvas = document.getElementById(\"canvas\");\n\n// objects\nexport const playground = new Arena(SIZE.ARENA_WIDTH, SIZE.ARENA_HEIGHT);\nexport const player = new Piece();\nexport const cns = new CanvasTool(canvas, SIZE.ARENA_HEIGHT * SIZE.SCALER, SIZE.ARENA_WIDTH * SIZE.SCALER);\nexport const playerHint = new Hint(player);\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Roboto:100i.ttf);\", \"\"]);\n\n// module\nexports.push([module.id, \"html, body {\\n  height: 100%; }\\n\\nbody {\\n  margin: 0;\\n  font-family: \\\"Roboto\\\";\\n  background: linear-gradient(-180deg, #1D1D24 0%, #000B35 53%, #1D1D24 98%);\\n  overflow: hidden; }\\n\\n#bg {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  overflow: hidden; }\\n\\n.bg-abs-left, .bg-abs-right {\\n  position: absolute;\\n  z-index: -1;\\n  width: 2126px;\\n  height: 509px;\\n  background: linear-gradient(55deg, #002eff08 1%, #27272738 51%); }\\n\\n.bg-abs-left {\\n  left: -500px;\\n  top: -500px;\\n  transform: rotate(45deg);\\n  transform-origin: left; }\\n\\n.bg-abs-right {\\n  right: -100px;\\n  bottom: 0px;\\n  transform: rotate(-20deg);\\n  transform-origin: right;\\n  height: 1000px; }\\n\\n#main {\\n  height: 100%;\\n  padding: 0;\\n  margin: 0;\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-flex;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center; }\\n  #main #canvas, #main #instuction, #main #scoreWrapper {\\n    box-shadow: 0 0 60px 0 rgba(137, 137, 137, 0.5);\\n    border-radius: 3px;\\n    border: 7px solid #0A78FF; }\\n  #main .flex {\\n    display: flex; }\\n  #main .left, #main .right {\\n    display: flex; }\\n  #main .left {\\n    flex-direction: column;\\n    width: 244px;\\n    margin-right: 50px; }\\n    #main .left .top {\\n      height: calc(100% - 255px - 80px); }\\n    #main .left img {\\n      height: 116px;\\n      width: 209px;\\n      margin: auto; }\\n  #main .right {\\n    flex-direction: column; }\\n\\n.flex-container {\\n  width: auto;\\n  display: flex; }\\n\\n.row {\\n  flex-direction: row; }\\n\\n.col {\\n  flex-direction: column; }\\n\\n#instuction, #scoreWrapper {\\n  width: 244px; }\\n\\n#instuction {\\n  height: 244px;\\n  background-color: #282C34; }\\n  #instuction h2 {\\n    padding-left: 20px;\\n    color: #0A78FF; }\\n  #instuction .flex-container {\\n    width: 100%; }\\n\\n#scoreWrapper {\\n  background-color: #282C34;\\n  height: 80px;\\n  margin-top: 20px;\\n  text-align: center; }\\n  #scoreWrapper span {\\n    color: #0A78FF;\\n    font-size: 50px;\\n    margin: auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"d05924a78b7df01374b366e1930dff95.png\";","import infoImg from \"../img/info.png\";\nimport \"../style/style.scss\";\nimport { tetrisBg } from \"./theme.js\";\nimport {\n    playground,\n    player,\n    cns,\n    playerHint\n} from \"./element.js\"; \n\n// DOM elements\nconst info = document.getElementById(\"info\");\nconst scoreWrapper = document.getElementById(\"scoreWrapper\");\nconst score = document.getElementById(\"score\");\nconst bgCanvas = document.getElementById(\"bg-canvas\");\nconst bgc = document.createElement(\"canvas\");\nconst bgctx = bgc.getContext(\"2d\");\n\n// add instruction image\ninfo.src = infoImg;\n\n// create new canves\nbgCanvas.appendChild(bgc);\n\n// clean up when tetrimon hits ground\nconst clean = () => {\n    playground.merge(player);\n    playground.sweep(player);\n    getScore(score);\n    resize();\n    player.reset();\n    playerHint.update(player);\n};\n\n// draw tetris\nconst drawTetris = () => {\n    cns.drawRect(tetrisBg, 0, 0, cns.width, cns.height);\n    cns.draw(playground);\n    playerHint.dropHint(player, playground);\n    cns.draw(playerHint);\n    cns.draw(player);\n};\n\n// drop tetromino \nconst drop = (callback) => {\n    player.pos.y++;\n    if(playground.isHit(player).y) {\n        player.pos.y--;\n        callback();\n    }\n};\n\nconst getScore = (element) => {\n    playground.updateScore();\n    element.innerHTML = playground.scoreBoard.total; \n};\n\n// move tetrimon left or right\nconst move = (dir) => {\n    player.pos.x += dir;\n    if (playground.isHit(player).x) {\n        player.pos.x -= dir;\n    }\n    playerHint.dropHint(player, playground);\n};\n\n// rotate tetrimon clockwise\nconst rotate = (dir) => {\n    player.rotate(dir);\n    playerHint.rotate(dir);\n    while(playground.isHit(player).x){\n        if(player.pos.x > 0){\n            player.pos.x--; \n        }else{\n            player.pos.x++; \n        }\n    }\n};  \n\n// drop tetrimon to bottom\nconst speedyDrop = () => {\n    while(!playground.isHit(player).y){\n        player.pos.y++; \n    }\n    player.pos.y--;\n    clean();\n};\n\n// a variable to count when to udpate animation\nlet start = new Date().getTime();\n\n// udpate animation\nconst update = () => {\n    if(playground.over){\n        score.innerHTML = \"GAME OVER,<br/> press anykey to start\";\n        resize();\n        return; \n    }\n    let current = new Date().getTime(),\n        dt = current - start,\n        delay = 1000;\n    if ( dt >= delay ) {\n        drop(clean);\n        start = new Date().getTime();\n    }\n    drawTetris();\n    requestAnimationFrame(update);\n};\n\n// reset and restart game \nconst restart= () => {\n    player.reset();  \n    score.innerHTML = \"\";\n    playground.reset();\n    resize();\n    update();\n};\n\n// resize score font if score is high\nconst resize = () => {\n    let currentSize, step = 2,\n        margin = 30,\n        letterCount = 10,\n        unit = \"px\",\n        defaultFontSize = \"50px\";\n\n    while ((scoreWrapper.offsetWidth - margin) < score.offsetWidth) {\n        currentSize = parseFloat(window.getComputedStyle(score, null).getPropertyValue(\"font-size\"));\n        score.style.fontSize = (currentSize - step) + unit;\n    }\n\n    if (score.innerHTML.length < letterCount) {\n        score.style.fontSize = defaultFontSize;\n    }\n};\n\ndocument.addEventListener(\"keydown\", e => {\n\n    if(playground.over){\n        restart(); \n    }\n\n    if (e.code === \"ArrowLeft\" || e.code === \"KeyH\") {\n        move(-1);\n    } else if (e.code === \"ArrowRight\" || e.code === \"KeyL\") {\n        move(1);\n    } else if (e.code === \"ArrowDown\" || e.code === \"KeyJ\") {\n        drop(clean);\n    } else if (e.code === \"ArrowUp\" || e.code === \"KeyK\") {\n        rotate(1);\n    } else if (e.code === \"Space\") {\n        speedyDrop();\n    }\n\n});\n\nwindow.addEventListener(\"resize\", fitSize);\n\n// resize canvas\nfunction fitSize(){\n    bgctx.canvas.width = document.body.clientWidth;\n    bgctx.canvas.height = document.body.clientHeight;\n}\n\nfitSize();\nupdate();\n"],"sourceRoot":""}